-- 1 delete rows in payment table where payment id is 17064 and 17067
delete from payment
where payment_id in (17064,17067);

-- Views
 -- 
CREATE VIEW v_customer_info
AS
SELECT cu.customer_id,
    cu.first_name || ' ' || cu.last_name AS name,
    a.address,
    a.postal_code,
    a.phone,
    city.city,
    country.country
     FROM customer cu
     JOIN address a ON cu.address_id = a.address_id
     JOIN city ON a.city_id = city.city_id
     JOIN country ON city.country_id = country.country_id
ORDER BY customer_id;

select * from v_customer_information;

-- 1 rename the view to v_customer_information
alter view v_customer_info 
rename to v_customer_information;

-- 2 rename customer_id column to c_id
alter view v_customer_information
rename customer_id to c_id;

-- 3 add initial column as last column to the view by replaing the view
create or replace view v_customer_information
as 
SELECT cu.customer_id as c_id,
    cu.first_name || ' ' || cu.last_name AS name,
    a.address,
    a.postal_code,
    a.phone,
    city.city,
    country.country,
	left(first_name,1)||'.'||left(last_name,1)||'.' as initials
     FROM customer cu
     JOIN address a ON cu.address_id = a.address_id
     JOIN city ON a.city_id = city.city_id
     JOIN country ON city.country_id = country.country_id
ORDER BY customer_id;
